{% extends 'base.html' %}
{% block content %}

<style>
/* ================= SIGNUP CARD ================= */
.signup-card{
  max-width:520px;
  margin:40px auto;
  padding:36px;
  border-radius:20px;
  background:linear-gradient(180deg,#0b0204,#050001);
  border:1px solid rgba(201,42,68,.55);
  box-shadow:
    0 0 40px rgba(201,42,68,.25),
    0 40px 120px rgba(0,0,0,.95);
  text-align:center;
  animation:fadeUp .6s ease;
}

/* ================= ANIMATION ================= */
@keyframes fadeUp{
  from{opacity:0; transform:translateY(20px) scale(.98)}
  to{opacity:1; transform:none}
}

/* ================= ICON & TITLE ================= */
.drop-icon{
  font-size:52px;
  margin-bottom:8px;
  color:#c92a44;
  text-shadow:0 0 20px rgba(201,42,68,.6);
}

.blood-title{
  font-size:30px;
  font-weight:900;
  color:#e24b63;
  margin-bottom:18px;
  text-shadow:0 0 15px rgba(201,42,68,.5);
}

/* ================= INPUTS ================= */
.blood-input,
.blood-select{
  width:100%;
  padding:13px 14px;
  margin:10px 0;
  border-radius:14px;
  border:1px solid rgba(201,42,68,.45);
  background:rgba(255,255,255,.04);
  color:#f2e6e9;
  font-size:15px;
  outline:none;
  transition:.35s ease;
}

.blood-input::placeholder{
  color:#bfa1a8;
}

/* focus glow */
.blood-input:focus,
.blood-select:focus{
  border-color:#c92a44;
  box-shadow:
    0 0 0 1px rgba(201,42,68,.7),
    0 0 18px rgba(201,42,68,.6);
  background:rgba(255,255,255,.06);
}

/* ================= BUTTON ================= */
.blood-btn{
  width:100%;
  padding:15px;
  margin-top:16px;
  border-radius:16px;
  border:none;
  font-size:17px;
  font-weight:900;
  color:#fff;
  cursor:pointer;
  background:linear-gradient(135deg,#c92a44,#7a1224);
  box-shadow:
    0 0 30px rgba(201,42,68,.55),
    inset 0 0 0 1px rgba(255,255,255,.08);
  transition:.3s ease;
}

.blood-btn:hover{
  transform:translateY(-3px);
  box-shadow:0 0 45px rgba(201,42,68,.85);
}

.blood-btn:active{
  transform:scale(.97);
}

/* ================= LINK ================= */
.blood-link{
  margin-top:18px;
  font-size:14px;
  color:#bfa1a8;
}

.blood-link a{
  color:#e24b63;
  font-weight:700;
  text-decoration:none;
}

.blood-link a:hover{
  text-shadow:0 0 10px rgba(201,42,68,.6);
}

/* ================= DROPDOWN FIX ================= */
select option{
  background:#0b0204;
  color:#f2e6e9;
}
</style>


<div class="signup-card">
    <div class="drop-icon">ðŸ©¸</div>
    <div class="blood-title">Signup</div>

    <form method="POST">

        <input type="text" name="name" class="blood-input" placeholder="Full Name" required>

        <input type="email" name="email" class="blood-input" placeholder="Email Address" required>

        <input type="password" name="password" class="blood-input" placeholder="Create Password" required>

        <input type="text" name="phone" class="blood-input" placeholder="Phone Number" required>

        <!-- MAIN GENDER DROPDOWN -->
        <select name="gender" id="gender" class="blood-select" required>
            <option value="" disabled selected>Gender</option>
            <option value="Male">Male</option>
            <option value="Female">Female</option>
            <option value="Other">Other</option>
        </select>

        <!-- SUB OPTIONS (ONLY if Other selected) -->
        <select name="gender_other" id="gender_other" class="blood-select" style="display:none;">
            <option value="" disabled selected>Select Specific Gender</option>
            <option value="Transgender">Transgender</option>
            <option value="Non-binary">Non-binary</option>
            <option value="Genderfluid">Genderfluid</option>
            <option value="Genderqueer">Genderqueer</option>
            <option value="Agender">Agender</option>
            <option value="Other Identity">Other (Specify)</option>
        </select>

        <!-- TEXT INPUT IF "Other Identity" selected -->
        <input type="text" name="other_gender_text" id="other_gender_text"
               class="blood-input" placeholder="Enter your gender"
               style="display:none;" />

        <input type="text" name="location" class="blood-input" placeholder="City / Location" required>


        <button class="blood-btn">Create Account</button>
    </form>

    <div class="blood-link">
        Already have an account?
        <a href="{{ url_for('login') }}">Login Here</a>
    </div>
</div>

<!-- ðŸ”¥ JS TO HANDLE GENDER OPTIONS -->
<script>
document.getElementById("gender").addEventListener("change", function () {
    let sub = document.getElementById("gender_other");
    let textbox = document.getElementById("other_gender_text");

    if (this.value === "Other") {
        sub.style.display = "block";
    } else {
        sub.style.display = "none";
        textbox.style.display = "none";
    }
});

document.getElementById("gender_other").addEventListener("change", function () {
    let textbox = document.getElementById("other_gender_text");

    if (this.value === "Other Identity") {
        textbox.style.display = "block";
    } else {
        textbox.style.display = "none";
    }
});
</script>

{% endblock %}
